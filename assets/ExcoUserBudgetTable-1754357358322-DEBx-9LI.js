import{j as e}from"./ui-vendor-1754357358322-Bp-UNE15.js";import{r as s}from"./react-vendor-1754357358322-BCu8432v.js";import{b as a,I as i,B as n}from"./index-1754357358322-CldQuBx-.js";import{T as r,a as t,b as l,c as d,d as o,e as c}from"./table-1754357358322-C8S8WM1D.js";import{H as m,I as j,l as x}from"./icons-vendor-1754357358322-D5w6PadE.js";const h=({users:h,userRole:g,onBudgetChange:u,onViewUser:p,showViewButton:b})=>{const{t:v}=a(),[_,f]=s.useState(null),[w,N]=s.useState({});return e.jsxs(r,{children:[e.jsx(t,{children:e.jsxs(l,{children:[e.jsx(d,{children:v("table.name")}),e.jsx(d,{children:v("table.total_programs")}),e.jsx(d,{children:v("table.pending_programs")}),e.jsx(d,{children:v("table.total_budget")}),e.jsx(d,{children:v("table.remaining_budget")}),b&&e.jsx(d,{children:v("table.view")})]})}),e.jsx(o,{children:h.map(s=>e.jsxs(l,{children:[e.jsx(c,{children:s.name}),e.jsx(c,{children:s.total_programs}),e.jsx(c,{children:s.pending_programs}),e.jsx(c,{children:"finance_mmk"===g?_===s.id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{type:"number",value:w[s.id]??"",min:0,onChange:e=>N(a=>({...a,[s.id]:e.target.value})),className:"w-24"}),e.jsx(n,{size:"sm",variant:"outline",onClick:()=>(e=>{u&&void 0!==w[e.id]&&u(e.id,Number(w[e.id])),f(null)})(s),children:e.jsx(m,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:(s.total_budget??0).toLocaleString()}),e.jsx(n,{size:"sm",variant:"ghost",onClick:()=>(e=>{f(e.id),N(s=>({...s,[e.id]:e.total_budget.toString()}))})(s),children:e.jsx(j,{className:"h-4 w-4"})})]}):e.jsx("span",{children:(s.total_budget??0).toLocaleString()})}),e.jsx(c,{children:(s.remaining_budget??0).toLocaleString()}),b&&e.jsx(c,{children:e.jsx(n,{size:"sm",variant:"outline",onClick:()=>p&&p(s),children:e.jsx(x,{className:"h-4 w-4"})})})]},s.id))})]})};export{h as E};
